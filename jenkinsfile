node {
stage ("clone") {
   sh 'env'

         def scmVars = checkout([
        $class: 'GitSCM',
          branches: [[name: '${GIT_BRANCH}']],
          userRemoteConfigs: [[credentialsId: '', url: 'https://github.com/rameshthoomu/jenkins_commits']]])
                  // Display the variable using scmVars
      echo "scmVars.GIT_COMMIT"
      echo "${scmVars.GIT_COMMIT}"

      // Displaying the variables saving it as environment variable
      env.GIT_COMMIT = scmVars.GIT_COMMIT
      echo "env.GIT_COMMIT"
      env.GIT_PREVIOUS_SUCCESSFUL_COMMIT = scmVars.GIT_PREVIOUS_SUCCESSFUL_COMMIT
      echo "${env.GIT_COMMIT}"
      echo "${scmVars.GIT_PREVIOUS_SUCCESSFUL_COMMIT}"
         sh 'env'
   }
   stage("next stage") {
    echo "${GIT_COMMIT}"
echo "${GIT_PREVIOUS_SUCCESSFUL_COMMIT}"
   CHANGED = sh( script: ‘git diff --name-only $GIT_PREVIOUS_SUCCESSFUL_COMMIT $GIT_COMMIT ui’)
   echo $CHANGED
   
}
}
